<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="/webjars/jquery/3.6.4/jquery.min.js"></script>
  </head>
  <body>
    
     <h1>Registration Page</h1>
    
   
     

    <div class="container">


         <form th:action="@{/register}" method="post" th:object="${user}">
			 
			 <label for="username">Username</label>
			 <input type="text" th:field="*{username}" class="form-select">
			 
			 <label for="email">Email</label>
			 <input type="email" th:field="*{email}" class="form-select">
			 
			 <label for="contact">Contact No.</label>
			 <input type="text" th:field="*{contactno}" class="form-select">
			 
			 <label for="country" class="mt-3">Country</label>
			 <select th:field="*{country}" id="country" class="form-select">
				 
	
				 <option th:each="country : ${countries}" th:value="${country.countryname}" th:text="${country.countryname}"></option>
				 
			 </select>
			 
			 <div id="filterState"></div> 
			 <div id="hideState">
				 
			 <label for="State" class="mt-3">State</label>
			 <select class="form-select">
				 
				 <option value="select">Select</option>
				 
			 </select>
			  </div>
			  
			  <div id="filterCity"></div>
			  <div id="hideCity">
				 
			 <label for="City" class="mt-3">City</label>
			 <select class="form-select">
				 
				 <option value="select">Select</option>
				 
			 </select>
			  </div>
			 
			 <button type="submit" class="btn btn-primary mt-3">Submit</button>
			 
		 </form> 
		 <br>
		 <a href="login"  style="color: blue;">Already Have an Account ? Login Here</a>
    
    
         <script>
		$(document).ready(function(){
			$('.form-select').on("change", function() {
				$.ajax({
					type : 'POST',
					url : '/filter-state',
					data : {
						 country: $('#country').val(),
						 
					},
					success : function(result) {
						 $("#hideState").hide();
						$("#filterState").html(result);
					}
				});
			});
		});
	</script>
	
    
    </div>
        
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>